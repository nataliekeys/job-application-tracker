{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\natal\\\\Desktop\\\\job-organization\\\\client\\\\src\\\\components\\\\Jobs\\\\Job\\\\Job.js\";\nimport React from \"react\";\nimport { Card, CardActions, CardContent, CardMedia, Button, Typography } from \"@material-ui/core/\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\nimport moment from \"moment\";\nimport { useDispatch } from \"react-redux\";\nimport { deleteJob } from \"../../../actions/jobs\";\nimport useStyles from \"./styles\";\n\nconst Job = ({\n  job,\n  setCurrentId\n}) => {\n  const dispatch = useDispatch();\n  const classes = useStyles(); // Function to generate the cover letter download link\n\n  const downloadCoverLetter = () => {\n    if (job.coverLetterFile) {\n      const base64String = job.coverLetterFile;\n\n      if (base64String.startsWith(\"JVBER\")) {\n        // The Base64 string starts with 'JVBER' (PDF format)\n        const fullBase64 = `data:application/pdf;base64,${base64String}`;\n        const link = document.createElement(\"a\");\n        link.href = fullBase64;\n        link.download = \"cover_letter.pdf\";\n        link.target = \"_blank\";\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      } else if (base64String.startsWith(\"data:\")) {\n        // The Base64 string starts with 'data:' prefix (already contains metadata)\n        const link = document.createElement(\"a\");\n        link.href = base64String;\n        link.download = \"cover_letter.pdf\";\n        link.target = \"_blank\";\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      } else {\n        // Invalid PDF Base64 string\n        alert(\"Invalid PDF Base64 string. Cannot download the file.\");\n      }\n    } else {\n      // No cover letter file available\n      alert(\"No cover letter available for download.\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Card, {\n    className: classes.card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CardMedia, {\n    className: classes.media,\n    image: job.selectedFile || \"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png\",\n    title: job.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.overlay,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, job.company), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, moment(job.createdAt).fromNow())), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.overlay2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      color: \"white\"\n    },\n    size: \"small\",\n    onClick: () => setCurrentId(job._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MoreHorizIcon, {\n    fontSize: \"default\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.details,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    component: \"h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, job.status)), /*#__PURE__*/React.createElement(Typography, {\n    className: classes.title,\n    gutterBottom: true,\n    variant: \"h5\",\n    component: \"h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, job.title), /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body1\",\n    color: \"textPrimary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, job.location ? `Location: ${job.location}` : \"\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: job.link,\n    target: \"_blank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    component: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, job.link))), /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, job.notes), job.coverLetterFile && /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.download,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, \"Download Cover Letter:\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: downloadCoverLetter,\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, \"Download\")), /*#__PURE__*/React.createElement(CardActions, {\n    className: classes.cardActions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    size: \"small\",\n    color: \"primary\",\n    onClick: () => dispatch(deleteJob(job._id)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DeleteIcon, {\n    fontSize: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }), \" Delete\")));\n};\n\nexport default Job;","map":{"version":3,"sources":["C:/Users/natal/Desktop/job-organization/client/src/components/Jobs/Job/Job.js"],"names":["React","Card","CardActions","CardContent","CardMedia","Button","Typography","DeleteIcon","MoreHorizIcon","moment","useDispatch","deleteJob","useStyles","Job","job","setCurrentId","dispatch","classes","downloadCoverLetter","coverLetterFile","base64String","startsWith","fullBase64","link","document","createElement","href","download","target","body","appendChild","click","removeChild","alert","card","media","selectedFile","title","overlay","company","createdAt","fromNow","overlay2","color","_id","details","status","location","notes","cardActions"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  Card,\n  CardActions,\n  CardContent,\n  CardMedia,\n  Button,\n  Typography,\n} from \"@material-ui/core/\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\nimport moment from \"moment\";\nimport { useDispatch } from \"react-redux\";\nimport { deleteJob } from \"../../../actions/jobs\";\nimport useStyles from \"./styles\";\n\nconst Job = ({ job, setCurrentId }) => {\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  // Function to generate the cover letter download link\n  const downloadCoverLetter = () => {\n    if (job.coverLetterFile) {\n      const base64String = job.coverLetterFile;\n      if (base64String.startsWith(\"JVBER\")) {\n        // The Base64 string starts with 'JVBER' (PDF format)\n        const fullBase64 = `data:application/pdf;base64,${base64String}`;\n        const link = document.createElement(\"a\");\n        link.href = fullBase64;\n        link.download = \"cover_letter.pdf\";\n        link.target = \"_blank\";\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      } else if (base64String.startsWith(\"data:\")) {\n        // The Base64 string starts with 'data:' prefix (already contains metadata)\n        const link = document.createElement(\"a\");\n        link.href = base64String;\n        link.download = \"cover_letter.pdf\";\n        link.target = \"_blank\";\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      } else {\n        // Invalid PDF Base64 string\n        alert(\"Invalid PDF Base64 string. Cannot download the file.\");\n      }\n    } else {\n      // No cover letter file available\n      alert(\"No cover letter available for download.\");\n    }\n  };\n  return (\n    <Card className={classes.card}>\n      <CardMedia\n        className={classes.media}\n        image={\n          job.selectedFile ||\n          \"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png\"\n        }\n        title={job.title}\n      />\n      <div className={classes.overlay}>\n        <Typography variant=\"h6\">{job.company}</Typography>\n        <Typography variant=\"body2\">\n          {moment(job.createdAt).fromNow()}\n        </Typography>\n      </div>\n      <div className={classes.overlay2}>\n        <Button\n          style={{ color: \"white\" }}\n          size=\"small\"\n          onClick={() => setCurrentId(job._id)}\n        >\n          <MoreHorizIcon fontSize=\"default\" />\n        </Button>\n      </div>\n      <div className={classes.details}>\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"h2\">\n          {job.status}\n        </Typography>\n      </div>\n      <Typography\n        className={classes.title}\n        gutterBottom\n        variant=\"h5\"\n        component=\"h2\"\n      >\n        {job.title}\n      </Typography>\n      <CardContent>\n        <Typography variant=\"body1\" color=\"textPrimary\">\n          {job.location ? `Location: ${job.location}` : \"\"}\n        </Typography>\n        <a href={job.link} target=\"_blank\">\n          {\" \"}\n          <Typography variant=\"body2\" component=\"p\">\n            {job.link}\n          </Typography>\n        </a>\n      </CardContent>\n      <Typography>{job.notes}</Typography>\n      {job.coverLetterFile && (\n        <div className={classes.download}>\n          <Typography>Download Cover Letter:</Typography>\n          <Button\n            onClick={downloadCoverLetter}\n            variant=\"contained\"\n            color=\"primary\"\n          >\n            Download\n          </Button>\n        </div>\n      )}\n      <CardActions className={classes.cardActions}>\n        <Button\n          size=\"small\"\n          color=\"primary\"\n          onClick={() => dispatch(deleteJob(job._id))}\n        >\n          <DeleteIcon fontSize=\"small\" /> Delete\n        </Button>\n      </CardActions>\n    </Card>\n  );\n};\n\nexport default Job;\n"]},"metadata":{},"sourceType":"module"}